{% extends "layout.jinja2" %}

{% block pagestyles %}
<link rel="stylesheet" href="{{url_for('static',filename='src/css/tailwind.css')}}">
{% endblock %}

{% block content %}
  <div class="bg-grey-lighter min-h-screen flex flex-col bg-pc-blue">
    <div class="container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2">
    <div class="bg-white px-6 py-8 rounded shadow-md text-black w-full">

    {% for message in get_flashed_messages() %}
      <div class="alert text-red-700 mb-4 bg-red-100 border border-red-400 text-center rounded justify-self-center pb-3 px-0.5">
        <button type="button" class="close text-4xl" data-dismiss="alert">&times;</button>
        {{ message }}
      </div>
    {% endfor %}

    <h1 class="mt-6 mb-8 text-3xl text-center">Log In</h1>

    <form method="POST" action="/login">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <fieldset class="email block border border-grey-light w-full rounded mb-4">
        {{ form.email(placeholder='Email', class="w-full pl-2 py-3 rounded") }}
      </fieldset>

              <div class="mb-4 ">
        {% if form.email.errors %}
          <ul class="errors">
            {% for error in form.email.errors %}
              <li>{{ error }}</li>{% endfor %}
          </ul>
        {% endif %}
        </div>

              <fieldset class="password block border border-grey-light w-full rounded mb-4">
          {{ form.password(placeholder='Password', class="w-full pl-2  py-3 rounded") }}
        </fieldset>

              <div class="mb-4 ">
          {% if form.password.errors %}
          <ul class="errors text-red-700">
            {% for error in form.password.errors %}
            <li><h1>{{ error }}</h1></li>{% endfor %}
          </ul>
          {% endif %}
        </div>

      <div class="submit-button w-full text-center">
        {{ form.submit(class="w-full pl-2 py-3 rounded bg-blue-400 hover:bg-blue-500") }}
      </div>

      <div class="login-signu text-grey-dark mt-6">
        <span>Don't have an account? <a class="underline font-extrabold text-blue" href="{{ url_for('auth_bp.signup') }}">Sign up</a>.</span>
      </div>

    </form>
      </div>
        </div>
  </div>
{% endblock %}
